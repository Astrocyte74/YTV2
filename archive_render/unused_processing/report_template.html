<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{title}</title>
    <link rel="stylesheet" href="report.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- Navigation Header -->
        <nav class="nav-header">
            <div class="nav-inner">
                <a href="/" class="nav-back">
                    <svg viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd" />
                    </svg>
                    Back to Dashboard
                </a>
                <div class="nav-actions">
                    <button class="nav-btn" id="shareBtn">
                        <svg viewBox="0 0 20 20" fill="currentColor">
                            <path d="M13 4.5a2.5 2.5 0 11.702 1.737L6.97 9.604a2.518 2.518 0 010 .792l6.733 3.367a2.5 2.5 0 11-.671 1.341l-6.733-3.367a2.5 2.5 0 110-3.475l6.733-3.367A2.52 2.52 0 0113 4.5z" />
                        </svg>
                        Share
                    </button>
                    <button class="nav-btn" id="exportBtn">
                        <svg viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                        Export
                    </button>
                </div>
            </div>
        </nav>

        <!-- Video Header -->
        <header class="video-header">
            {thumbnail_html}
            <div class="header-overlay">
                <div class="header-content">
                    <div class="model-badge {model_badge_class}">{model_badge_text}</div>
                    <h1>{video_title}</h1>
                    <div class="video-meta">
                        <span class="channel">üì∫ {channel_name}</span>
                        <span class="duration">‚è±Ô∏è {duration}</span>
                        <span class="date">üìÖ {upload_date}</span>
                    </div>
                    {youtube_link_html}
                </div>
            </div>
        </header>

        <!-- Content Sections -->
        <main class="main-content">
            <div class="content-inner">
                
                <!-- Summary Section -->
                <section class="content-section">
                    <div class="section-header">
                        <h2>üìã Summary</h2>
                        <div class="section-badge">{summary_type}</div>
                    </div>
                    <div class="content-card">
                        <div class="summary-content">
                            {summary_content}
                        </div>
                    </div>
                </section>

                <!-- Key Insights Section -->
                {key_insights_section}

                <!-- Content Analysis Section -->
                {content_analysis_section}

                <!-- Transcript Section -->
                {transcript_section}

                <!-- Technical Details -->
                <section class="content-section">
                    <div class="section-header">
                        <h2>‚öôÔ∏è Technical Details</h2>
                        <button class="toggle-btn" onclick="toggleSection('techDetails')">
                            <svg class="toggle-icon" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                    <div class="content-card collapsible" id="techDetails">
                        <div class="tech-grid">
                            <div class="tech-item">
                                <span class="tech-label">ü§ñ AI Model</span>
                                <span class="tech-value">{ai_model}</span>
                            </div>
                            <div class="tech-item">
                                <span class="tech-label">üìä Processing Time</span>
                                <span class="tech-value">{processing_time}</span>
                            </div>
                            <div class="tech-item">
                                <span class="tech-label">üìù Transcript Source</span>
                                <span class="tech-value">{transcript_source}</span>
                            </div>
                            <div class="tech-item">
                                <span class="tech-label">üéØ Summary Type</span>
                                <span class="tech-value">{summary_type}</span>
                            </div>
                            <div class="tech-item">
                                <span class="tech-label">üìÖ Generated</span>
                                <span class="tech-value">{generation_date}</span>
                            </div>
                            <div class="tech-item">
                                <span class="tech-label">üî§ Word Count</span>
                                <span class="tech-value">{word_count}</span>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </main>

        <!-- Floating Action Button -->
        <div class="fab-container">
            <button class="fab" id="playVideoBtn" title="Play Video">
                <svg viewBox="0 0 20 20" fill="currentColor">
                    <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.841z" />
                </svg>
            </button>
        </div>

        <!-- Share Modal -->
        <div class="modal" id="shareModal">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üì§ Share Report</h3>
                    <button class="modal-close" onclick="closeModal('shareModal')">
                        <svg viewBox="0 0 20 20" fill="currentColor">
                            <path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="share-options">
                        <button class="share-btn" onclick="copyLink()">
                            <svg viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M13.887 3.564c.022.25-.045.501-.19.73l-3.743 5.914 3.744 5.915c.144.228.211.479.189.729a1.048 1.048 0 01-.408.66 1.048 1.048 0 01-.743.23 1.048 1.048 0 01-.648-.28L7.17 12.138a1.048 1.048 0 010-1.361l4.92-4.324a1.048 1.048 0 01.648-.28c.259 0 .508.08.718.23.21.15.36.361.408.66z" clip-rule="evenodd" />
                            </svg>
                            Copy Link
                        </button>
                        <div class="share-url">
                            <input type="text" id="shareUrl" readonly value="{current_url}">
                            <button onclick="copyLink()" class="copy-btn">Copy</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Export Modal -->
        <div class="modal" id="exportModal">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üíæ Export Report</h3>
                    <button class="modal-close" onclick="closeModal('exportModal')">
                        <svg viewBox="0 0 20 20" fill="currentColor">
                            <path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="export-options">
                        <button class="export-btn" onclick="exportPDF()">
                            <svg viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm3 5a1 1 0 011-1h4a1 1 0 110 2H8a1 1 0 01-1-1zm0 3a1 1 0 011-1h4a1 1 0 110 2H8a1 1 0 01-1-1z" clip-rule="evenodd" />
                            </svg>
                            Export as PDF
                        </button>
                        <button class="export-btn" onclick="exportMarkdown()">
                            <svg viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" />
                            </svg>
                            Export as Markdown
                        </button>
                        <button class="export-btn" onclick="printPage()">
                            <svg viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5 2.75C5 1.784 5.784 1 6.75 1h6.5c.966 0 1.75.784 1.75 1.75v3.552c.377.046.744.116 1.084.213C17.748 6.987 19 8.401 19 10v5a2 2 0 01-2 2h-1v1.25c0 .966-.784 1.75-1.75 1.75h-6.5A1.75 1.75 0 016 18.25V17H5a2 2 0 01-2-2v-5c0-1.599 1.252-3.013 2.916-3.484A9.64 9.64 0 016.75 6.302V2.75zM14.5 6.302V2.75a.25.25 0 00-.25-.25h-6.5a.25.25 0 00-.25.25v3.552c.377.046.744.116 1.084.213C9.748 6.987 11 8.401 11 10v5c0 .342-.068.669-.192.967h2.942A.25.25 0 0014 15.75V6.302z" clip-rule="evenodd" />
                            </svg>
                            Print
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Template data injection
        window.REPORT_DATA = {
            title: '{video_title}',
            channel: '{channel_name}',
            youtubeUrl: '{youtube_url}',
            currentUrl: window.location.href
        };
    </script>
    <script src="report.js"></script>
</body>
</html>